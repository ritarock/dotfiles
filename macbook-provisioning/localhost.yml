---
  - hosts: localhost
    connection: local
    gather_facts: no
    become: no

    vars:
      homebrew_taps:
        - name: homebrew/cask-fonts

      homebrew_packages:
        - name: fd
        - name: fish
        - name: fzf
        - name: git
        - name: go
        - name: htop
        - name: jq
        - name: node
        - name: pyenv
        - name: python
        - name: rust
        - name: starship
        - name: tmux
        - name: tree
        - name: vim
        - name: yarn
        - name: youtube-dl

      homebrew_cask_packages:
        - name: discord
        - name: docker
        - name: font-fira-code-nerd-font
        - name: git-delta
        - name: google-chrome
        - name: google-japanese-ime
        - name: iTerm2
        - name: licecap
        - name: mapture
        - name: obsidian
        - name: postman
        - name: raycast
        - name: shotcut
        - name: slack
        - name: steam
        - name: visual-studio-code

    tasks:
      - name: brew tap
        community.general.homebrew_tap:
          name={{ item.name }}
        with_items: '{{ homebrew_taps }}'

      - name: brew install packages
        community.general.homebrew:
          name={{ item.name }}
          update_homebrew=yes
        with_items: '{{ homebrew_packages }}'

      - name: brew install cask-packages
        community.general.homebrew_cask:
          name={{ item.name }}
          update_homebrew=yes
        with_items: '{{ homebrew_cask_packages }}'

      - name: brew install --no-quarantine gcenx/wine/unofficial-wineskin
        shell: brew install --no-quarantine gcenx/wine/unofficial-wineskin
